:host {
  display: block;
  min-height: 100vh;
}

// Override the global .container max-width + padding for full-width layout
:host-context(.container) {
  max-width: none !important;
  padding-left: 8px !important;
  padding-right: 8px !important;
}

// Chain table column sizing
.chain-table {
  table-layout: fixed;

  .col-greek { width: 72px; }
  .col-price { width: 90px; }
  .col-oi { width: 68px; }
  .col-vol { width: 72px; }
  .col-strike { width: 90px; }
  .col-iv { width: 64px; }
}

// ── Diagonal hatch pattern (reusable) ───────────────────────────
@mixin hatch-pattern($color) {
  background-image: repeating-linear-gradient(
    -45deg,
    transparent,
    transparent 4px,
    $color 4px,
    $color 5px
  );
}

// ── Zone row styles ─────────────────────────────────────────────
// Using double-class selectors (.chain-table.chain-table) to boost specificity
// above Tailwind utility classes that Angular scopes to the same elements.

// ATM divider row — the visual "price line" separating ITM from OTM
.chain-table.chain-table tr.row-atm {
  position: relative;

  td {
    border-top: 2px solid rgba(245, 158, 11, 0.8) !important;
    border-bottom: 2px solid rgba(245, 158, 11, 0.8) !important;
    background-color: rgba(245, 158, 11, 0.15) !important;
  }

  td.col-strike {
    position: relative;
  }
}

// Floating price badge — positioned over the ATM strike cell
.atm-price-badge {
  position: absolute;
  left: 50%;
  top: -14px;
  transform: translateX(-50%);
  z-index: 10;
  white-space: nowrap;
  background: #f59e0b;
  color: #0f172a;
  font-size: 11px;
  font-weight: 700;
  padding: 2px 10px;
  border-radius: 10px;
  letter-spacing: 0.3px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
  pointer-events: none;
}

// ITM call cells (strike < price) — strong emerald tint + diagonal hatch
.chain-table.chain-table tr.row-itm-call {
  td.col-call {
    background-color: rgba(6, 78, 59, 0.45) !important;
    @include hatch-pattern(rgba(16, 185, 129, 0.12));
    color: #d1fae5 !important;
  }
  td.col-call-price {
    background-color: rgba(6, 78, 59, 0.45) !important;
    @include hatch-pattern(rgba(16, 185, 129, 0.12));
    color: #6ee7b7 !important;
  }
}

// ITM put cells (strike > price) — strong red tint + diagonal hatch
.chain-table.chain-table tr.row-itm-put {
  td.col-put {
    background-color: rgba(127, 29, 29, 0.45) !important;
    @include hatch-pattern(rgba(239, 68, 68, 0.12));
    color: #fecaca !important;
  }
  td.col-put-price {
    background-color: rgba(127, 29, 29, 0.45) !important;
    @include hatch-pattern(rgba(239, 68, 68, 0.12));
    color: #fca5a5 !important;
  }
}

// OTM call cells (strike > price) — clean, no hatch, clearly dimmed
.chain-table.chain-table tr.row-otm-call {
  td.col-call { color: #475569 !important; }       // slate-600 (darker)
  td.col-call-price { color: #64748b !important; }  // slate-500
}

// OTM put cells (strike < price) — clean, no hatch, clearly dimmed
.chain-table.chain-table tr.row-otm-put {
  td.col-put { color: #475569 !important; }       // slate-600 (darker)
  td.col-put-price { color: #64748b !important; }  // slate-500
}

// PrimeNG Drawer dark theme overrides
::ng-deep .p-drawer {
  .p-drawer-content {
    background: #0f172a;
    color: #e2e8f0;
  }

  .p-drawer-header {
    background: #1e293b;
    color: #f1f5f9;
    border-bottom: 1px solid #334155;
  }
}
